#!/bin/bash

echo "========================================"
echo "üîß FIXING DUPLICATE FUNCTION ERROR"
echo "========================================"
echo ""

cd /opt/speed-send || exit 1

echo "1Ô∏è‚É£ Pulling latest fix..."
git pull origin main

echo ""
echo "2Ô∏è‚É£ Rebuilding frontend with fix..."
docker-compose build --no-cache frontend

echo ""
echo "3Ô∏è‚É£ Starting frontend..."
docker-compose up -d frontend

echo ""
echo "4Ô∏è‚É£ Waiting for frontend to start..."
sleep 10

echo ""
echo "5Ô∏è‚É£ Checking frontend status..."
docker-compose ps frontend

echo ""
echo "========================================"
echo "‚úÖ DUPLICATE FUNCTION ERROR FIXED!"
echo "========================================"
echo ""
echo "üåê Test at: http://172.236.219.75:3000/campaigns"
echo ""
echo "üéØ Now you can:"
echo "   ‚úÖ Launch campaigns"
echo "   ‚úÖ Delete campaigns" 
echo "   ‚úÖ Duplicate campaigns"
echo "   ‚úÖ No more build errors!"
echo ""
