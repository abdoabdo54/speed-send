#!/bin/bash

echo "========================================"
echo "üîß QUICK FIX FOR LAUNCH & DELETE"
echo "========================================"
echo ""

cd /opt/speed-send || exit 1

echo "1Ô∏è‚É£ Pulling latest fixes..."
git pull origin main

echo ""
echo "2Ô∏è‚É£ Restarting backend with fixes..."
docker-compose restart backend

echo ""
echo "3Ô∏è‚É£ Waiting for backend to start..."
sleep 10

echo ""
echo "4Ô∏è‚É£ Testing backend..."
curl -s http://localhost:8000/health && echo "‚úÖ Backend OK" || echo "‚ùå Backend not ready"

echo ""
echo "========================================"
echo "‚úÖ FIXES APPLIED!"
echo "========================================"
echo ""
echo "üéØ Now you can:"
echo "   ‚úÖ Launch campaigns (WorkspaceUser error fixed)"
echo "   ‚úÖ Delete draft campaigns"
echo "   ‚úÖ Duplicate campaigns"
echo ""
echo "üåê Test at: http://172.236.219.75:3000/campaigns"
echo ""
